(function(){"use strict";class t{static#t="init";static#a="start";static#e="draw";static#s="drawCommand";static#i="complete";value;constructor(s){this.value=s}static INIT=new t(this.#t);static START=new t(this.#a);static DRAW=new t(this.#e);static DRAW_COMMAND=new t(this.#s);static COMPLETE=new t(this.#i)}class n{static#t="line";value;constructor(s){this.value=s}static LINE=new n(this.#t)}const l=10;let e=null;self.onmessage=o=>{const{type:s,canvas:c,width:u,height:h,command:i}=o.data;if(s.value===t.INIT.value){if(e=c.getContext("2d"),!e)throw new Error("Failed to get 2D context from OffscreenCanvas");e.clearRect(0,0,u,h);return}if(s.value===t.DRAW.value&&i?.kind.value===n.LINE.value){e||(e=c.getContext("2d"));const a=e;a.imageSmoothingEnabled=!1,a.strokeStyle=i.color,a.lineWidth=l,a.beginPath(),a.moveTo(i.startX,i.startY),a.lineTo(i.endX,i.endY),a.stroke()}}})();
